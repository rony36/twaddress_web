(function(e){function t(t){for(var n,o,a=t[0],l=t[1],u=t[2],c=0,f=[];c<a.length;c++)o=a[c],s[o]&&f.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var l=r[o];0!==s[l]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},s={app:0},i=[];function o(e){return a.p+"js/"+({db1:"db1",db2:"db2"}[e]||e)+"."+{db1:"712ce228",db2:"f522770a"}[e]+".js"}function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],r=s[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise(function(t,n){r=s[e]=[t,n]});t.push(r[2]=n);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=o(e),i=function(t){l.onerror=l.onload=null,clearTimeout(u);var r=s[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+n+": "+i+")");o.type=n,o.request=i,r[1](o)}s[e]=void 0}};var u=setTimeout(function(){i({type:"timeout",target:l})},12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=u;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);var n=r("2b0e"),s=r("ce5b"),i=r.n(s),o=(r("bf40"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"app"}},[r("v-container",[r("v-content",[r("v-layout",{attrs:{"mt-3":"","align-center":"","justify-center":"",column:""}},[r("h1",{staticClass:"display-2 font-weight-light"},[e._v("台灣地址工具")]),r("h5",{staticClass:"headline font-weight-light"},[e._v("3+2 郵政區號 / 地址英譯")])])],1),r("TWAddress")],1),r("v-footer",{attrs:{height:"auto",color:"green lighten-1"}},[r("v-layout",{attrs:{xs4:"",sm8:"","justify-space-between":""}},[r("v-flex",{attrs:{xs4:""}}),r("v-btn",{attrs:{color:"white",flat:"",xs4:""},on:{click:e.report_form}},[r("v-icon",[e._v("mail")]),r("span",{staticClass:"pl-1"},[e._v("回報與贊助")])],1),r("v-flex",{attrs:{"lighten-2":"","py-3":"","pr-3":"","text-xs-right":"","white--text":"",xs8:"",sm4:""}},[e._v("©2019 — "),r("strong",[e._v("Rony Weng")])])],1)],1)],1)}),a=[],l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-content",[r("address-input")],1)},u=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:"","grid-list-md":""}},[r("v-layout",{attrs:{wrap:"","align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs4:"",sm2:"",md2:"",lg1:"","d-flex":""}},[r("v-autocomplete",{attrs:{"search-input":"true",items:e.counties,"hide-details":"",label:"縣市"},model:{value:e.county,callback:function(t){e.county=t},expression:"county"}})],1),r("v-flex",{attrs:{xs4:"",sm2:"",md2:"",lg1:"","d-flex":""}},[r("v-autocomplete",{attrs:{"search-input":"true",items:e.regions,"hide-details":"",label:"區域"},model:{value:e.region,callback:function(t){e.region=t},expression:"region"}})],1),r("v-flex",{attrs:{xs6:"",sm2:"","d-flex":""}},[r("v-autocomplete",{attrs:{"search-input":"true",items:e.streets,"hide-details":"",label:"街道"},model:{value:e.street,callback:function(t){e.street=t},expression:"street"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs3:"",sm2:"",md1:"","d-flex":""}},[r("v-text-field",{attrs:{suffix:"巷",type:"number",min:"1","hide-details":""},model:{value:e.lane,callback:function(t){e.lane=t},expression:"lane"}})],1),r("v-flex",{attrs:{xs3:"",sm2:"",md1:"","d-flex":""}},[r("v-text-field",{attrs:{suffix:"弄",type:"number",min:"1","hide-details":""},model:{value:e.alley,callback:function(t){e.alley=t},expression:"alley"}})],1),r("v-flex",{attrs:{xs6:"",sm3:"",md2:"","d-flex":""}},[r("v-text-field",{attrs:{suffix:"號",type:"number",min:"1","hide-details":""},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}}),r("v-text-field",{attrs:{prefix:"之",type:"number",min:"1","hide-details":""},model:{value:e.sub_number,callback:function(t){e.sub_number=t},expression:"sub_number"}})],1),r("v-flex",{attrs:{xs6:"",sm3:"",md2:"","d-flex":""}},[r("v-text-field",{attrs:{suffix:"樓",type:"number",min:"1","hide-details":""},model:{value:e.floor,callback:function(t){e.floor=t},expression:"floor"}}),r("v-text-field",{attrs:{prefix:"之",type:"number",min:"1","hide-details":""},model:{value:e.sub_floor,callback:function(t){e.sub_floor=t},expression:"sub_floor"}})],1),r("v-flex",{attrs:{xs3:"",sm2:"",md1:"","d-flex":""}},[r("v-text-field",{attrs:{suffix:"室",type:"number",min:"1","hide-details":""},model:{value:e.room,callback:function(t){e.room=t},expression:"room"}})],1)],1),r("v-layout",{attrs:{"align-center":"","justify-center":"","my-2":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[r("v-btn",{attrs:{block:"",color:"green",dark:""},on:{click:e.query_address}},[e._v("立即查詢")])],1)],1),r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[r("v-text-field",{staticClass:"mb-3",attrs:{label:"3+2 郵遞區號",solo:"",readonly:"","single-line":"","hide-details":""},model:{value:e.zipcode,callback:function(t){e.zipcode=t},expression:"zipcode"}}),r("v-textarea",{attrs:{label:"英文地址",readonly:"",solo:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1)],1)],1)},d=[],f=r("e814"),h=r.n(f),m=(r("96cf"),r("3b8d")),p={name:"AdressInput",data:function(){return{title:"台灣地址中翻英",county:"",region:"",street:"",lane:"",alley:"",number:"",sub_number:"",floor:"",sub_floor:"",room:"",zipcode:"",address:"",counties:["基隆市","臺北市","新北市","桃園市","新竹市","新竹縣","苗栗縣","臺中市","彰化縣","南投縣","雲林縣","嘉義市","嘉義縣","臺南市","高雄市","屏東縣","臺東縣","花蓮縣","宜蘭縣","澎湖縣","金門縣","連江縣"],addressdb1:null,addressdb2:null}},props:{msg:String},created:function(){var e=this;this.zipcode="等待資料庫載入中，請稍候...",Object(m["a"])(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.e("db1").then(r.bind(null,"a380"));case 2:n=t.sent,e.addressdb1=n,e.zipcode="";case 5:case"end":return t.stop()}},t)}))()},computed:{regions:function(){return""==this.county||null==this.addressdb1?[]:this.addressdb1.area_map[this.county]},streets:function(){return""==this.county||""==this.region||null==this.addressdb1?[]:this.addressdb1.region_street[this.county+this.region]}},methods:{query_address:function(){var e="",t=this;if(null!=this.addressdb1){if(""==this.county||""==this.region||""==this.street)return this.zipcode="3+2 郵遞區號查詢失敗，請輸入完整地址。",void(this.address="英文地址查詢失敗，請輸入完整地址。");if(null==this.addressdb2)return this.zipcode="等待資料庫中，請稍後...",void Object(m["a"])(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.e("db2").then(r.bind(null,"538e"));case 2:n=e.sent,t.addressdb2=n,t.query_address();case 5:case"end":return e.stop()}},e)}))();e=this.search_zipcode5(),""==e?(this.zipcode="3+2 郵遞區號查詢失敗，請確認地址正確。",e=this.search_zipcode3()):this.zipcode=e,this.address=this.make_address(e),this.address_zh=this.make_address_zh(e)}},make_address:function(e){var t="";return this.room&&(t+="Rm. "+this.room+", "),this.floor&&(t+=this.floor+"F.",this.sub_floor&&(t+="-"+this.sub_floor),t+=", "),this.number&&(t+="No. "+this.number,this.sub_number&&(t+="-"+this.sub_number),t+=", "),this.alley&&(t+="Aly. "+this.alley+", "),this.lane&&(t+="Ln. "+this.lane+", "),t+=this.addressdb2.street_en[this.street]+"\n",t+=this.addressdb2.area_en[this.county+this.region]+" ",t+=e,t+="\nTaiwan (R.O.C)",t},make_address_zh:function(e){var t=e+"  ";return t+=this.county,t+=this.region,t+=this.street,this.lane&&(t+=this.lane+"巷"),this.alley&&(t+=this.alley+"弄"),this.number&&(t+=this.number,this.sub_number&&(t+="-"+this.sub_number),t+="號"),this.floor&&(t+=this.floor,this.sub_floor&&(t+="-"+this.sub_floor),t+="樓"),this.room&&(t+=this.room+"室"),t},search_zipcode5:function(){var e=this.addressdb2.street_map[this.county+this.region][this.street];if(1==e.length)return e[0].zip5;for(var t=Array(),r=0;r<e.length;r++)this.zipcode5_rule_match(e[r].scope)&&t.push(e[r]);return this.select_best_match(t)},select_best_match:function(e){return 0==e.length?"":e[e.length-1].zip5},zipcode5_rule_match:function(e){var t,r;if("I"==e[0]){if(h()(e[1])!=h()(this.lane))return!1;e=e.slice(2),t=h()(this.number),r=h()(this.sub_number)}else t=""!=this.lane?h()(this.lane):h()(this.number),r=h()(this.sub_number);return this.do_zipcode5_rule_match(e,t,r)},do_zipcode5_rule_match:function(e,t,r){var n=function(e){return e%2!=0},s=function(e){return e%2==0},i=function(e,t,r,n){return 0==r||(e>r||!(e<r)&&(0==n||(t>=n||!(t<n)&&void 0)))},o=function(e,t,r,n){return 0==r||(e<r||!(e>r)&&(0==n||(t<=n||!(t>n)&&void 0)))};switch(e[0]){case"A":return!0;case"B":return n(t);case"C":return s(t);case"D":return!!i(t,r,e[1],e[2])&&!!o(t,r,e[3],e[4]);case"E":return!!n(t)&&(!!i(t,r,e[1],e[2])&&!!o(t,r,e[3],e[4]));case"F":return!!s(t)&&(!!i(t,r,e[1],e[2])&&!!o(t,r,e[3],e[4]));case"G":return!!i(t,r,e[1],e[2])&&!!o(t,r,e[3],e[4]);case"H":return(0==e[2]||r==e[2])&&e[1]==t}return!1},search_zipcode3:function(){return""==this.county||""==this.region?"":this.addressdb2.zipcode3_map[this.county+this.region]}}},b=p,v=r("2877"),x=Object(v["a"])(b,c,d,!1,null,"b5e76bc8",null),_=x.exports,y={name:"TWAddress",components:{AddressInput:_},data:function(){return{}},props:{}},g=y,w=Object(v["a"])(g,l,u,!1,null,"ee72ffd2",null),k=w.exports,z={name:"app",components:{TWAddress:k},methods:{report_form:function(){window.location.href="https://forms.gle/aqmZWa3B4TyKmR8N6"}}},j=z,O=Object(v["a"])(j,o,a,!1,null,null,null),T=O.exports;n["default"].use(i.a),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(T)}}).$mount("#app")}});